(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{718:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(5155),a=t(2108),n=t(2115);let l=n.forwardRef(function(e,s){let{title:t,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))});var i=t(8246);let o=n.forwardRef(function(e,s){let{title:t,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))});var d=t(5246);function c(){let{data:e,status:s}=(0,a.useSession)(),[t,c]=(0,n.useState)({maxFileSize:"100",allowedFileTypes:"jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,ppt,pptx,mp4,mov,avi,zip,rar",emailNotifications:!0,autoApproveUsers:!1,maxStoragePerUser:"1000",sessionTimeout:"24"}),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),g=async()=>{u(!0);try{(await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(h("Settings saved successfully!"),setTimeout(()=>h(""),3e3)):h("Error saving settings")}catch(e){h("Error saving settings")}finally{u(!1)}};return"loading"===s?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e&&("SUPER_ADMIN"===e.user.role||"ADMIN"===e.user.role)?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"sm:flex sm:items-center",children:(0,r.jsxs)("div",{className:"sm:flex-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"System Settings"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage system configuration and preferences."})]})}),x&&(0,r.jsx)("div",{className:"rounded-md p-4 ".concat(x.includes("Error")?"bg-red-50 text-red-800":"bg-green-50 text-green-800"),children:x}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(l,{className:"h-5 w-5 mr-2"}),"File Upload Settings"]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Max File Size (MB)"}),(0,r.jsx)("input",{type:"number",value:t.maxFileSize,onChange:e=>c({...t,maxFileSize:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Max Storage Per User (MB)"}),(0,r.jsx)("input",{type:"number",value:t.maxStoragePerUser,onChange:e=>c({...t,maxStoragePerUser:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Allowed File Types (comma-separated)"}),(0,r.jsx)("textarea",{value:t.allowedFileTypes,onChange:e=>c({...t,allowedFileTypes:e.target.value}),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,r.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"Security Settings"]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Auto-approve new users"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically approve new user registrations"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>c({...t,autoApproveUsers:!t.autoApproveUsers}),className:"".concat(t.autoApproveUsers?"bg-blue-600":"bg-gray-200"," relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"),children:(0,r.jsx)("span",{className:"".concat(t.autoApproveUsers?"translate-x-5":"translate-x-0"," pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Session Timeout (hours)"}),(0,r.jsx)("input",{type:"number",value:t.sessionTimeout,onChange:e=>c({...t,sessionTimeout:e.target.value}),className:"mt-1 block w-full sm:w-32 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,r.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(o,{className:"h-5 w-5 mr-2"}),"Email Settings"]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email Notifications"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Send email notifications for file shares and system updates"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>c({...t,emailNotifications:!t.emailNotifications}),className:"".concat(t.emailNotifications?"bg-blue-600":"bg-gray-200"," relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"),children:(0,r.jsx)("span",{className:"".concat(t.emailNotifications?"translate-x-5":"translate-x-0"," pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})})]})})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end",children:(0,r.jsx)("button",{onClick:g,disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})})]})})]}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})})}},3777:(e,s,t)=>{Promise.resolve().then(t.bind(t,718))},5246:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(2115);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))})},8246:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(2115);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))})}},e=>{e.O(0,[108,441,964,358],()=>e(e.s=3777)),_N_E=e.O()}]);